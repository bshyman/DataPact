<div x-data="settings" class="w-2/3">
  <div class="rounded bg-base-100 place-content-center py-4">
    <div class="flex flex-1 items-center justify-between px-6">
      <span class="text-base-content text-xl font-medium">Theme</span>

      <select @change="changeTheme($event)" class="select select-bordered w-full max-w-xs text-base-content">
        <%= options_for_select(themes_for_select) %>
      </select>
    </div>
  </div>
</div>

<script type="text/javascript" charset="utf-8">
  document.addEventListener('alpine:init', () => {
    Alpine.data('settings', () => ({
      init(){
        document.querySelector('option[value="' + localStorage.getItem('theme') + '"]').selected = true
      },
      changeTheme(event) {
        const theme = event.target.value
        document.body.dataset.theme = theme
        localStorage.setItem('theme', theme)
      }
    }))
  })
</script>